(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{141:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(24),s=c.n(r),i=(c(131),c(44)),l=c(27),o=(c(86),c(182)),j=c(19),u=c(188),b=c(178),d=c(194),O=c(177),h=c(7),m=function(e){var t=e.children,c=e.onClick,n=e.tip,a=e.btnClassName,r=e.tipClassName;return Object(h.jsx)(d.a,{title:n,className:r,children:Object(h.jsx)(O.a,{onClick:c,className:a,children:t})})},p=c(106),x=c.n(p),f=c(107),v=c.n(f),g=c(108),y=c.n(g),N=c(104),w=c(38),k=c(105),S=c(31),C=Object(N.a)({apiKey:"AIzaSyD-LcB8sagIHNWIEOf6dnV1T8iIpfeVpJE",authDomain:"enliven-30c7e.firebaseapp.com",projectId:"enliven-30c7e",storageBucket:"enliven-30c7e.appspot.com",messagingSenderId:"862598587365",appId:"1:862598587365:web:09f209bee1e21991ecc50c",measurementId:"G-7XQDY60B2W"}),R=Object(k.a)(C),E=Object(w.b)(C),U=c(56),P=a.a.createContext();function I(){return Object(n.useContext)(P)}function A(e){var t=e.children,c=Object(n.useState)(),a=Object(j.a)(c,2),r=a[0],s=a[1];Object(n.useEffect)((function(){return R.onAuthStateChanged((function(e){s(e)}))}),[]);var i={currentUser:r,signup:function(e,t){return Object(U.a)(R,e,t)},login:function(e,t){return Object(U.c)(R,e,t)},signout:function(){return Object(U.d)(R)},update:function(e,t,c,n){return Object(U.e)(R.currentUser,{displayName:e,email:t,photoURL:c,bio:n})}};return Object(h.jsx)(P.Provider,{value:i,children:t})}var L=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],r=I().currentUser,s=function(e){e.preventDefault(),Object(S.b)(Object(S.c)(E,"posts"),{content:c,createdAt:S.a.fromDate(new Date),user:r.displayName,userEmail:r.email}).then((function(){console.log("Posted")})).catch((function(e){alert(e.post),console.error()}))};return Object(h.jsxs)("form",{className:"",onSubmit:s,children:[Object(h.jsx)("h1",{children:"Make a New Post"}),Object(h.jsx)("hr",{}),Object(h.jsx)(u.a,{placeholder:"Share your thoughts",value:c,onChange:function(e){return a(e.target.value)}}),Object(h.jsxs)(b.a,{className:"postingBtn-container",children:[Object(h.jsx)(m,{onClick:s,tip:"Click here to Post",children:Object(h.jsx)(x.a,{})}),Object(h.jsx)(m,{onClick:s,tip:"Click here to add a Photo",children:Object(h.jsx)(v.a,{})}),Object(h.jsx)(m,{onClick:s,tip:"Click here to attach a file",children:Object(h.jsx)(y.a,{})})]})]})},W=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],l=s[1];return Object(n.useEffect)((function(){var e=Object(w.e)(Object(w.a)(E,"posts"),Object(w.d)("createdAt","desc")),t=Object(w.c)(e,(function(e){var t=[];e.forEach((function(e){t.push(e.data())})),l(t),a(!1)}));return function(){return t()}}),[c]),c?Object(h.jsx)("h1",{children:"loading firebase data..."}):Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("h1",{children:"Posts"}),Object(h.jsx)("hr",{}),i.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:e.user})," wrote: ",e.content]})})}))]})},F=c(180),B=c(181),D=c(179);function q(){var e=Object(D.a)({flexGrow:{flex:"1"},button:{backgroundColor:"#3c52b2",color:"#fff","&:hover":{backgroundColor:"#303f9f",color:"#fff"}}})();return Object(h.jsx)(F.a,{children:Object(h.jsx)(b.a,{className:"nav-container",children:Object(h.jsxs)("div",{className:e.flexGrow,children:[Object(h.jsx)(B.a,{className:e.button,variant:"outlined",style:{marginRight:200},color:"inherit",component:i.b,to:"/aboutus",children:"About Us"}),Object(h.jsx)(B.a,{className:e.button,variant:"outlined",style:{marginRight:200,marginLeft:200},color:"inherit",component:i.b,to:"/",children:"Home"}),Object(h.jsx)(B.a,{className:e.button,variant:"outlined",style:{marginLeft:200},color:"inherit",component:i.b,to:"/profile",children:"Profile"})]})})})}function Y(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(q,{}),Object(h.jsxs)(o.a,{container:!0,spacing:3,children:[Object(h.jsx)(o.a,{item:!0,sm:8,sx:12,children:Object(h.jsx)(W,{})}),Object(h.jsx)(o.a,{item:!0,sm:4,sx:12,children:Object(h.jsx)(L,{})})]})]})}var H=c(1),G=c.n(H),J=c(2),T=c(184),M=c(192),V=c(189),z=c(190),K=c(183);function Q(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=I().login,a=Object(n.useState)(""),r=Object(j.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(!1),b=Object(j.a)(o,2),d=b[0],O=b[1],m=Object(l.g)();function p(){return(p=Object(J.a)(G.a.mark((function n(a){return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,i(""),O(!0),n.next=6,c(e.current.value,t.current.value);case 6:console.log("User logged in"),O(!1),m.push("/"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0),i("Failed to log in: "+n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(K.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(h.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(h.jsx)(M.a,{children:Object(h.jsxs)(M.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(h.jsx)(V.a,{variant:"danger",children:s}),Object(h.jsxs)(z.a,{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(h.jsx)(u.a,{required:!0,inputRef:e,className:"mb-3",margin:"normal",fullWidth:!0,type:"email",id:"email",label:"Your Email Address",variant:"filled"}),Object(h.jsx)(u.a,{required:!0,inputRef:t,className:"mt-3 mb-3",margin:"normal",fullWidth:!0,type:"password",id:"password",label:"Password",variant:"filled"}),Object(h.jsx)(B.a,{disabled:d,className:"w-100 mt-4",variant:"contained",color:"primary",type:"submit",children:"Log In"})]})]})}),Object(h.jsx)("div",{className:"w-100 text-center mt-2",children:Object(h.jsxs)("p",{children:["Don't have an account? ",Object(h.jsx)(T.a,{href:"./signup",children:"Sign up."})]})})]})})})}function X(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useRef)(),s=I(),i=s.signup,o=s.update,b=Object(n.useState)(""),d=Object(j.a)(b,2),O=d[0],m=d[1],p=Object(n.useState)(!1),x=Object(j.a)(p,2),f=x[0],v=x[1],g=Object(l.g)();function y(){return(y=Object(J.a)(G.a.mark((function n(s){var l;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),a.current.value===r.current.value){n.next=5;break}return console.log(a.current.value),console.log(r.current.value),n.abrupt("return",m("Passwords do not match"));case 5:return n.prev=5,m(""),v(!0),n.next=10,i(c.current.value,a.current.value);case 10:return Object(S.i)(Object(S.d)(E,"users",c.current.value),{displayName:"".concat(e.current.value," ").concat(t.current.value),email:c.current.value,photoURL:"null",bio:""}),l="".concat(e.current.value," ").concat(t.current.value),n.next=14,o(l,c.current.value,"null","");case 14:v(!1),g.push("/"),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(5),console.log(n.t0),m("Failed to create an account: "+n.t0);case 22:case"end":return n.stop()}}),n,null,[[5,18]])})))).apply(this,arguments)}return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(K.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(h.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(h.jsx)(M.a,{children:Object(h.jsxs)(M.a.Body,{children:[Object(h.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),O&&Object(h.jsx)(V.a,{variant:"danger",children:O}),Object(h.jsxs)(z.a,{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(h.jsx)(u.a,{required:!0,inputRef:e,className:"mb-3",margin:"normal",fullWidth:!0,id:"fName",label:"Your First Name",variant:"filled",type:"text"}),Object(h.jsx)(u.a,{required:!0,inputRef:t,className:"mb-3",margin:"normal",fullWidth:!0,id:"lName",label:"Your Last Name",variant:"filled",type:"text"}),Object(h.jsx)(u.a,{required:!0,inputRef:c,className:"mb-3",margin:"normal",fullWidth:!0,id:"email",label:"Your Email Address",variant:"filled",type:"email"}),Object(h.jsx)(u.a,{required:!0,inputRef:a,className:"mt-3 mb-3",margin:"normal",fullWidth:!0,type:"password",id:"password",label:"Password",variant:"filled",helperText:"Enter a strong password at least 6 characters in length."}),Object(h.jsx)(u.a,{required:!0,inputRef:r,className:"mt-3 mb-3",margin:"normal",fullWidth:!0,type:"password",id:"confirmPassword",label:"Confirm Password",variant:"filled"}),Object(h.jsx)(B.a,{disabled:f,className:"w-100 mt-4",variant:"contained",color:"primary",type:"submit",children:"Sign Up"})]})]})}),Object(h.jsx)("div",{className:"w-100 text-center mt-2",children:Object(h.jsxs)("p",{children:["Already signed up? ",Object(h.jsx)(T.a,{href:"./login",children:"Log in."})]})})]})})})}function Z(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(q,{}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"About Us"}),Object(h.jsx)("h2",{children:"To Be Implemented.."})]})]})}var $=c(193),_=c(185),ee=c(186),te=c(187),ce=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),i=s[0],l=s[1],o=I().currentUser;return Object(n.useEffect)((function(){var e=Object(w.e)(Object(w.a)(E,"posts"),Object(w.d)("createdAt","desc"),Object(w.f)("user","==","".concat(o.displayName))),t=Object(w.c)(e,(function(e){var t=[];e.forEach((function(e){t.push(e.data())})),l(t),a(!1)}));return console.log(i),function(){return t()}}),[c]),c?Object(h.jsx)("h1",{children:"loading firebase data..."}):Object(h.jsx)("div",{className:"",children:i.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:e.user})," wrote: ",e.content]})})}))})};function ne(){var e=I(),t=e.currentUser,c=e.signout,a=e.update,r=Object(n.useState)(""),s=Object(j.a)(r,2),i=s[0],b=s[1],d=Object(n.useState)(""),O=Object(j.a)(d,2),m=O[0],p=O[1],x=Object(n.useState)(!1),f=Object(j.a)(x,2),v=f[0],g=f[1],y=Object(n.useRef)(),N=Object(l.g)();function w(){return(w=Object(J.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(""),e.next=4,c();case 4:console.log("User signed out"),N.push("/login"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),b("Failed to log out: "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Object(n.useEffect)((function(){var e=Object(S.h)(Object(S.c)(E,"users"),Object(S.j)("email","==","".concat(t.email)));return Object(S.f)(e,(function(e){e.forEach((function(e){p(e.data().bio)}))}))}),[]);function k(){return(k=Object(J.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(S.i)(Object(S.d)(E,"users",t.email),{displayName:t.displayName,email:t.email,photoURL:"null",bio:y.current.value}),e.next=3,a(t.displayName,t.email,t.photoURL,y.current.value);case 3:g(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){g(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(q,{}),Object(h.jsxs)(o.a,{container:!0,spacing:3,children:[Object(h.jsx)(o.a,{item:!0,sm:4,xs:12,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"User Profile"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Name:"})," ",t&&t.displayName]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Email:"})," ",t&&t.email]}),Object(h.jsxs)("p",{children:[Object(h.jsx)("strong",{children:"Bio:"})," ",t&&m]}),i&&Object(h.jsx)(V.a,{variant:"danger",children:i})]})}),Object(h.jsxs)(o.a,{item:!0,sm:4,xs:12,children:[Object(h.jsx)("h1",{children:"User Posts"}),Object(h.jsx)("hr",{}),Object(h.jsx)(ce,{})]}),Object(h.jsx)(o.a,{item:!0,sm:4,xs:12,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Edit Info"}),Object(h.jsx)("hr",{}),Object(h.jsx)(B.a,{className:"w-100 mt-4",variant:"contained",color:"primary",type:"submit",onClick:function(){g(!0)},children:"Edit Profile"}),Object(h.jsx)(B.a,{className:"w-100 mt-4",variant:"contained",color:"primary",type:"submit",onClick:function(){return w.apply(this,arguments)},children:"Log Out"})]})})]}),Object(h.jsxs)($.a,{open:v,onClose:C,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsx)(_.a,{id:"alert-dialog-title",children:"Edit Your Profile"}),Object(h.jsx)(ee.a,{children:Object(h.jsx)(z.a,{children:Object(h.jsx)(u.a,{inputRef:y,className:"mb-3",margin:"normal",fullWidth:!0,id:"bio",label:"Add a bio",variant:"filled",type:"text"})})}),Object(h.jsxs)(te.a,{children:[Object(h.jsx)(B.a,{variant:"contained",color:"primary",onClick:C,children:"Close"}),Object(h.jsx)(B.a,{variant:"contained",color:"primary",onClick:function(){return k.apply(this,arguments)},autoFocus:!0,children:"Save Changes"})]})]})]})}var ae=c(84),re=c(112),se=["component"];function ie(e){var t=e.component,c=Object(re.a)(e,se),n=I().currentUser;return Object(h.jsx)(l.b,Object(ae.a)(Object(ae.a)({},c),{},{render:function(e){return n?Object(h.jsx)(t,Object(ae.a)({},e)):Object(h.jsx)(l.a,{to:"/login"})}}))}var le=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(i.a,{basename:"https://enliven-group21.github.io/enliven-project/",children:Object(h.jsx)(A,{children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(ie,{exact:!0,path:"/",component:Y}),Object(h.jsx)(l.b,{path:"/login",component:Q}),Object(h.jsx)(l.b,{path:"/signup",component:X}),Object(h.jsx)(l.b,{path:"/aboutus",component:Z}),Object(h.jsx)(l.b,{path:"/profile",component:ne})]})})})})})};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(le,{})}),document.getElementById("root"))},86:function(e,t,c){}},[[141,1,2]]]);
//# sourceMappingURL=main.070bf766.chunk.js.map